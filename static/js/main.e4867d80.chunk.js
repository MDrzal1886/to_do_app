(this.webpackJsonpto_do_app=this.webpackJsonpto_do_app||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),i=n(9),s=n.n(i),r=n(8),l=n(5),o=n(6),d=n(17),u=n(7),j=n(2),b=function(e){var t=e.func,n=e.clear,c=e.added,i=Object(a.useContext)(C).handleExitBtn;return Object(j.jsx)("button",{className:"exitButton",onClick:function(){i(t),n&&n(),c&&c(!1)},children:"X"})},O=function(){var e=Object(a.useContext)(C),t=e.addPanelActive,n=e.setTasks,c=e.setAddPanelActive,i=e.clickedDate,s=e.setDayTasksPanelActive,r=e.todayDate,O=e.setClickedDate,f=e.calendarPanelActive,h=Object(a.useState)(""),v=Object(l.a)(h,2),x=v[0],p=v[1],m=Object(a.useState)(""),g=Object(l.a)(m,2),k=g[0],P=g[1],y=Object(a.useState)(""),N=Object(l.a)(y,2),S=N[0],w=N[1],D=Object(a.useState)(!1),z=Object(l.a)(D,2),T=z[0],A=z[1],E=Object(a.useState)(!1),B=Object(l.a)(E,2),I=B[0],F=B[1],L=Object(a.useState)(!1),M=Object(l.a)(L,2),J=M[0],K=M[1],R=Object(a.useRef)(null);Object(a.useEffect)((function(){R.current.scrollTo({top:0,behavior:"smooth"})}),[t]),Object(a.useEffect)((function(){i&&f?P(i):f||P(r)}),[i,f,r]);var V=function(){p(""),P(r),w(""),A(!1),F(!1)},W=J?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("h2",{children:"Zadanie dodane!"})}):Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===x||""===k)A(""===x),F(""===k);else{var t={id:(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),title:x,date:k,description:S};n((function(e){return[].concat(Object(d.a)(e),[t])})),K(!0),V(),O(""),s(!1),setTimeout((function(){K(!1),c(!1)}),1500)}},className:"addPanelContainer",children:[Object(j.jsx)("h1",{children:"Dodaj zadanie"}),Object(j.jsx)("input",{className:"".concat(T&&""===x?"validate":""," addPanelInput"),type:"text",placeholder:"nazwa zadania",value:x,onChange:function(e){return p(e.target.value)}}),Object(j.jsx)("input",{className:"".concat(I&&""===k?"validate":""," addPanelInput"),type:"date",min:r,value:k,onChange:function(e){return P(e.target.value)}}),Object(j.jsx)("textarea",{className:"addPanelInput textarea",placeholder:"opis zadania",value:S,onChange:function(e){return w(e.target.value)}}),Object(j.jsx)("button",{type:"submit",className:"navButton light-color",children:Object(j.jsx)(u.a,{icon:o.d})})]})});return Object(j.jsxs)("div",{ref:R,className:"".concat(!1===t?"hide":!0===t?"show":""," panelContainer frontZIndex"),children:[Object(j.jsx)(b,{func:c,clear:V,added:K}),W]})},f=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(e.title),r=Object(l.a)(s,2),d=r[0],b=r[1],O=Object(a.useState)(e.date),f=Object(l.a)(O,2),h=f[0],v=f[1],x=Object(a.useState)(e.description?e.description:""),p=Object(l.a)(x,2),m=p[0],g=p[1],k=Object(a.useContext)(C),P=k.handleDelateBtn,y=k.setTasks,N=k.tasks,S=k.listPanelActive,w=k.todayDate,D=k.sortTasksFunc;Object(a.useEffect)((function(){b(e.title),v(e.date),g(e.description?e.description:"")}),[c,e]),Object(a.useEffect)((function(){return i(!1)}),[S]);return Object(j.jsxs)("li",{className:"taskListElement",children:[c?Object(j.jsx)("input",{className:"".concat(d.length<1?"validate":""," editPanelInput"),type:"text",value:d,onChange:function(e){return b(e.target.value)}}):Object(j.jsx)("h3",{children:e.title}),c?Object(j.jsx)("input",{className:"".concat(h.length<1||h<w?"validate":""," editPanelInput"),type:"date",min:w,value:h,onChange:function(e){return v(e.target.value)}}):Object(j.jsx)("p",{children:e.date}),c?Object(j.jsx)("textarea",{className:"editPanelInput textarea",value:m,onChange:function(e){return g(e.target.value)}}):e.description?Object(j.jsx)("p",{children:e.description}):null,Object(j.jsxs)("div",{className:"buttonsContainer",children:[Object(j.jsx)("button",{onClick:c?function(){var t={id:e.id,title:d,date:h,description:m};if(!(d.length<1||h.length<1||h<w)){var n=N.map((function(e){return e.id!==t.id?e:t})),a=n.sort((function(e,t){return D(e,t)}));y(a),i(!1)}}:function(){i(!0)},className:"listElementButton",children:Object(j.jsx)(u.a,{icon:o.c})}),Object(j.jsx)("button",{onClick:function(){return c?i(!1):P(e.id)},className:"listElementButton",children:c?"X":Object(j.jsx)(u.a,{icon:o.e})})]})]})},h=function(){var e=Object(a.useContext)(C),t=e.listPanelActive,n=e.tasks,c=e.setListPanelActive,i=Object(a.useRef)(null);Object(a.useEffect)((function(){i.current.scrollTo({top:0,behavior:"smooth"})}),[t]);var s=n.map((function(e){return Object(j.jsx)(f,Object(r.a)({},e),e.id)}));return Object(j.jsxs)("div",{ref:i,className:"".concat(!1===t?"hide":!0===t?"show":""," panelContainer"),children:[Object(j.jsx)(b,{func:c}),n.length>0?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("ul",{className:"tasksListContainer",children:[Object(j.jsx)("h1",{children:"Lista zada\u0144"}),s]})}):Object(j.jsx)("h2",{children:"Nie masz \u017cadnych zada\u0144 :("})]})},v=n(18),x=n(15),p=n(16),m=function(){var e=Object(a.useContext)(C),t=e.addPanelActive,n=e.setAddPanelActive,c=e.calendarPanelActive,i=e.setCalendarPanelActive,s=e.tasks,d=e.setDayTasksPanelActive,O=e.dayTasksPanelActive,h=e.clickedDate,m=e.setClickedDate,g=e.todayDate,k=Object(a.useState)([]),P=Object(l.a)(k,2),y=P[0],N=P[1],S=Object(a.useRef)(null),w=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=S.current.getApi();c||e.today(),w.current.scrollTo({top:0,behavior:"smooth"})}),[c,O]);Object(a.useEffect)((function(){N(s.filter((function(e){return e.date===h})))}),[s,h]);var D=y.map((function(e){return Object(j.jsx)(f,Object(r.a)({},e),e.id)})),z=O?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:h}),t?null:h>=g?Object(j.jsx)("button",{onClick:function(){n(!0)},className:"navButton light-color dayPanelAddButton",children:Object(j.jsx)(u.a,{icon:o.d})}):null,Object(j.jsx)("ul",{className:"tasksListContainer",children:y.length>0?D:h<g?Object(j.jsx)("h1",{children:"Nie mo\u017cna doda\u0107 zadania, lepiej nie planowa\u0107 zada\u0144 na przesz\u0142o\u015b\u0107!"}):Object(j.jsx)("h1",{children:"Nie masz zada\u0144 w tym dniu"})})]}):null,T=O?"show":"hide",A=O?"overFlowHidden":"";return Object(j.jsxs)("div",{ref:w,className:"".concat(!1===c?"hide":!0===c?"show":""," ").concat(A," panelContainer"),children:[Object(j.jsx)(b,{func:i}),Object(j.jsxs)("div",{className:"".concat(T," panelContainer"),children:[Object(j.jsx)(b,{func:d}),z]}),Object(j.jsx)("div",{className:"calendarContainer",children:Object(j.jsx)(v.a,{ref:S,dayMaxEventRows:!1,views:{dayGridMonth:{dayMaxEvents:1}},plugins:[x.a,p.a],initialView:"dayGridMonth",events:s,dateClick:function(e){var t=e.dateStr;m(t),N(s.filter((function(e){return e.date===t}))),d(!0)},fixedWeekCount:!1,weekNumberCalculation:"ISO",eventBackgroundColor:"#d3cce3",eventBorderColor:"transparent",contentHeight:"auto",eventTextColor:"black",headerToolbar:{start:"prev,next",center:"title",end:"today"}})})]})},C=Object(a.createContext)(),g=function(e){var t=e.children,n=Object(a.useState)(null),c=Object(l.a)(n,2),i=c[0],s=c[1],r=Object(a.useState)(null),d=Object(l.a)(r,2),u=d[0],b=d[1],f=Object(a.useState)(null),v=Object(l.a)(f,2),x=v[0],p=v[1],g=6e4*(new Date).getTimezoneOffset(),k=new Date(Date.now()-g).toISOString().slice(0,-1).split("T")[0],P=Object(a.useState)(k),y=Object(l.a)(P,2),N=y[0],S=y[1],w=function(e){var t=new Date(N);return t.setDate(t.getDate()+e),t.toISOString().split("T")[0]},D=Object(a.useState)([{id:"KVN6479JPX6JI",title:"Wynie\u015b\u0107 \u015bmieci",date:N,description:"Przyk\u0142adowe zadanie 1"},{id:"KVN6279JDX1WE",title:"Umy\u0107 samoch\xf3d",date:w(3),description:"Przyk\u0142adowe zadanie 2"},{id:"KVN6779GPW2JI",title:"Zrobi\u0107 trening",date:w(6),description:"Przyk\u0142adowe zadanie 3"},{id:"KVN647F5P46TI",title:"Kolacja ze znajomymi",date:w(6),description:"Przyk\u0142adowe zadanie 4"},{id:"KEN247W5P46TI",title:"Spacer",date:w(6),description:"Przyk\u0142adowe zadanie 5"}]),z=Object(l.a)(D,2),T=z[0],A=z[1],E=Object(a.useState)(!1),B=Object(l.a)(E,2),I=B[0],F=B[1],L=Object(a.useState)(""),M=Object(l.a)(L,2),J=M[0],K=M[1];Object(a.useEffect)((function(){N<(new Date).toISOString().split("T")[0]&&S((new Date).toISOString().split("T")[0])}),[N,i,u,x]);var R=[{id:1,type:"add",icon:o.d,component:Object(j.jsx)(O,{}),active:i},{id:2,type:"list",icon:o.b,component:Object(j.jsx)(h,{}),active:u},{id:3,type:"calendar",icon:o.a,component:Object(j.jsx)(m,{}),active:x}],V=function(e,t){return new Date(e.date)-new Date(t.date)||(e.title.toLowerCase()<t.title.toLowerCase()?-1:t.title.toLowerCase()<e.title.toLowerCase()?1:0)};Object(a.useEffect)((function(){var e=T.sort((function(e,t){return V(e,t)}));A(e)}),[T]);return Object(j.jsx)(C.Provider,{value:{buttonTypes:R,addPanelActive:i,listPanelActive:u,calendarPanelActive:x,setListPanelActive:b,setCalendarPanelActive:p,setAddPanelActive:s,sortTasksFunc:V,tasks:T,setTasks:A,handleDelateBtn:function(e){var t=T.filter((function(t){return t.id!==e}));A(t)},handleNavButtonClick:function(e){if(e)switch(e){case"add":return b(null),p(null),s(!0);case"list":return s(null),p(null),b(!0);case"calendar":return s(null),b(null),p(!0);default:return}},dayTasksPanelActive:I,setDayTasksPanelActive:F,handleExitBtn:function(e){e(!1)},clickedDate:J,setClickedDate:K,todayDate:N},children:t})},k=function(e){var t=Object(a.useContext)(C).handleNavButtonClick;return Object(j.jsxs)("div",{className:"navButtonContainer",children:[Object(j.jsx)("button",{onClick:function(){return t(e.type)},className:"navButton",children:Object(j.jsx)(u.a,{icon:e.icon})}),e.component]})},P=function(){var e=Object(a.useContext)(C).buttonTypes.map((function(e){return Object(j.jsx)(k,Object(r.a)({},e),e.id)}));return Object(j.jsx)("nav",{className:"navigation",children:e})};var y=function(){return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{children:"Manager zada\u0144"}),Object(j.jsx)(P,{})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};n(31);s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(g,{children:Object(j.jsx)(y,{})})}),document.getElementById("root")),N()}},[[32,1,2]]]);
//# sourceMappingURL=main.e4867d80.chunk.js.map